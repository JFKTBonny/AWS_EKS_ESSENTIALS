âœ… AWS EC2 describe-instance-types and Pod Density Explanation

The following command lists instance types starting with "t3." along with their ENI and IPv4 capacity:

    aws ec2 describe-instance-types \
    --filters "Name=instance-type,Values=t3.*" \
    --query "InstanceTypes[].{Type: InstanceType, MaxENI: NetworkInfo.MaximumNetworkInterfaces, IPv4addr: NetworkInfo.Ipv4AddressesPerInterface}" \
    --output table

ðŸ”Ž Purpose:
This command does NOT directly show pod density, but provides critical data used to calculate it.

    Pod density (maximum number of pods per node) in Amazon EKS is calculated using:

        max_pods = (ENIs * (IPv4 addresses per ENI - 1)) + 2

Explanation:
    - Each ENI can support multiple IPv4 addresses.
    - One IP is needed per pod.
    - Subtract 1 for the node IP on each ENI.
    - Add 2 for system-reserved pods.

âœ… Example Calculation for t3.medium:
    Assuming from AWS CLI output:
    - MaxENI = 3
    - IPv4addr = 6

Then:
    max_pods = (3 * (6 - 1)) + 2 = (3 * 5) + 2 = 17

So t3.medium supports 17 pods by default in EKS.

